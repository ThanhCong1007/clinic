<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="author" content="Tooplate">

<title>Mini Finance Dashboard Template</title>

<!-- Google Web Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link
	href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;700&display=swap"
	rel="stylesheet">

<!-- Icon Font Stylesheet -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
	rel="stylesheet">

<link href="/css/nhan-vien.css" rel="stylesheet">
<link href="/nhan-vien-resource/css/bootstrap.min.css" rel="stylesheet">
<link href="/nhan-vien-resource/css/tooplate-mini-finance.css"
	rel="stylesheet">
<!--

Tooplate 2135 Mini Finance

https://www.tooplate.com/view/2135-mini-finance

Bootstrap 5 Dashboard Admin Template

-->

</head>

<body>
	<header class="navbar sticky-top flex-md-nowrap">
		<div class="col-md-3 col-lg-3 me-0 px-3 fs-6">
			<a class="navbar-brand " href="/nhan-vien/quan-ly">
				<h3 class="m-0 display-7" style="color: rgb(4, 163, 218);">
					<i class="fa fa-tooth me-2"></i>N2CDentCare
				</h3>
			</a>
		</div>

		<button class="navbar-toggler position-absolute d-md-none collapsed"
			type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu"
			aria-controls="sidebarMenu" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<form
			class="custom-form header-form ms-lg-3 ms-md-3 me-lg-auto me-md-auto order-2 order-lg-0 order-md-0"
			action="#" th:action="@{/tim-benh-nhan}" method="post"
			th:object="${benhNhan}">
			<div class="row">
				<div class="col-md-11 col-lg-11">
					<input class="form-control" type="text" placeholder="Search"
						th:field="*{sdt}">
				</div>
				<div class="col-md-1 col-lg-1" style="transform: translateX(-30%);">
					<button class="form-control px-0 bg-white" type="submit">
						<i class="fa fa-search" style="color: black; font-size: 24px;"></i>
					</button>
				</div>
			</div>
		</form>

		<div class="navbar-nav me-lg-2">
			<div class="nav-item text-nowrap d-flex align-items-center">
				<div class="dropdown ps-3">
					<a class="nav-link dropdown-toggle text-center" href="#"
						role="button" data-bs-toggle="dropdown" aria-expanded="false"
						id="navbarLightDropdownMenuLink"> <i class="bi-bell"></i> <span
						class="position-absolute start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
							<span class="visually-hidden">New alerts</span>
					</span>
					</a>

					<ul
						class="dropdown-menu dropdown-menu-lg-end notifications-block-wrap bg-white shadow"
						aria-labelledby="navbarLightDropdownMenuLink">
						<small>Thông báo</small>

						<!--<li class="notifications-block border-bottom pb-2 mb-2">-->
						<li class="notifications-block"><a
							class="dropdown-item d-flex  align-items-center" href="#">
								<div class="notifications-icon-wrap bg-success">
									<i class="notifications-icon bi-check-circle-fill"></i>
								</div>

								<div>
									<span>Có xx lịch hẹn khám hôm nay</span>

									<p>12 days ago</p>
								</div>
						</a></li>
					</ul>
				</div>

				<div class="dropdown px-3">
					<a class="nav-link dropdown-toggle" href="#" role="button"
						data-bs-toggle="dropdown" aria-expanded="false"> <img
						src="/nhan-vien-resource/images/medium-shot-happy-man-smiling.jpg"
						class="profile-image img-fluid" alt="">
					</a>
					<ul class="dropdown-menu bg-white shadow">
						<li>
							<div class="dropdown-menu-profile-thumb d-flex">
								<img
									src="/nhan-vien-resource/images/medium-shot-happy-man-smiling.jpg"
									class="profile-image img-fluid me-3" alt="">

								<div class="d-flex flex-column">
									<small>Thomas</small> <a href="#">thomas@site.com</a>
								</div>
							</div>
						</li>

						<li><a class="dropdown-item" href="profile.html"> <i
								class="bi-person me-2"></i> Tài khoản
						</a></li>

						<li><a class="dropdown-item" href="setting.html"> <i
								class="bi-gear me-2"></i> Cài đặt
						</a></li>

						<li class="border-top mt-3 pt-2 mx-4"><a
							class="dropdown-item ms-0 me-0" href="/dang-nhap"> <i
								class="bi-box-arrow-left me-2"></i> Đăng xuất
						</a></li>
					</ul>
				</div>
			</div>
		</div>
	</header>

	<div class="container-fluid">
		<div class="row">
			<nav id="sidebarMenu"
				class="col-md-2 col-lg-2 d-md-block sidebar collapse">
				<div class="position-sticky py-4 px-3 sidebar-sticky">
					<ul class="nav flex-column h-100">
						<li class="nav-item"><a class="nav-link active"
							href="/nhan-vien/quan-ly" th:if="${page == 'tongQuat'}"> <i
								class="bi-house-fill me-2"></i> Tổng quát
						</a> <a class="nav-link" href="/nhan-vien/quan-ly"
							th:if="${page != 'tongQuat'}"> <i class="bi-house-fill me-2"></i>
								Tổng quát
						</a></li>

						<li class="nav-item"><a class="nav-link active" href="#"
							th:if="${page == 'lichHen'}"> <i class="bi-wallet me-2"></i>
								Quản lý lịch hẹn
						</a> <a class="nav-link" href="#" th:if="${page != 'lichHen'}"> <i
								class="bi-wallet me-2"></i> Quản lý lịch hẹn
						</a></li>

						<li class="nav-item"><a class="nav-link active"
							href="/nhan-vien/quan-ly/benh-nhan" th:if="${page == 'benhNhan'}">
								<i class="bi-person me-2"></i> Quản lý bệnh nhân
						</a> <a class="nav-link" href="/nhan-vien/quan-ly/benh-nhan"
							th:if="${page != 'benhNhan'}"> <i class="bi-person me-2"></i>
								Quản lý bệnh nhân
						</a></li>

						<li class="nav-item"><a class="nav-link active"
							href="/nhan-vien/quan-ly/benh-an" th:if="${page == 'benhAn'}">
								<i class="bi-gear me-2"></i> Quản lý bệnh án
						</a> <a class="nav-link " href="/nhan-vien/quan-ly/benh-an"
							th:if="${page != 'benhAn'}"> <i class="bi-gear me-2"></i>
								Quản lý bệnh án
						</a></li>

						<li class="nav-item border-top mt-auto pt-2"><a
							class="nav-link" href="/dang-nhap"> <i
								class="bi-box-arrow-left me-2"></i> Đăng xuất
						</a></li>
					</ul>
				</div>
			</nav>

			<main
				class="main-wrapper col-md-10 ms-sm-auto py-4 col-lg-10 px-md-4 border-start">
				<div class="title-group mb-3">
					<h1 class="h2 mb-0" th:text="${pageTitle}"></h1>
				</div>

				<div class="row my-4">
					<div class="col-lg-8 col-12">

						<div class="custom-block bg-white" th:if="${page != 'benhAn'}">
							<h5 class="mb-1" th:text="${titlePanelInfo}">Lịch hẹn hôm
								nay</h5>
							<small class="text-muted m-1" th:if="${benhNhanResult != null}" th:text="${benhNhanResult}">Không
								tìm thấy</small>

							<div class="row mt-2 mb-4">
								<div class="col-lg-3">
									<button class="btn btn-dark px-5" type="button"
										onclick="insertBenhNhan()" style="border-radius: 15px;"
										th:if="${ketQuaTimKiem == '0'}" >Tạo hồ sơ</button>
								</div>
							</div>

							<form class="custom-form mb-4" th:action="@{/xu-ly-benh-nhan}" method="post" th:object="${benhNhan}">
								<div class="benh-nhan" id="benh-nhan-form">
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<input class="form-control" type="text"
												placeholder="Họ và tên" th:field="*{HoTen}" id="input-benh-nhan-ten">
											<input class="form-control" type="text"
 												th:field="*{maBn}"  id="input-benh-nhan-id" 
 												style="position: absolute; z-index: -1; visibility: hidden;">
										</div>
									</div>
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<input class="form-control" type="number"
												placeholder="Số điện thoại" th:field="*{sdt}"  id="input-benh-nhan-sdt">
											<input class="form-control" type="number"
 												th:field="*{sdtCu}"  id="input-benh-nhan-sdt-cu" 
 												style="position: absolute; z-index: -1; visibility: hidden;">
										</div>
									</div>
									<div class="row px-2 mb-4">
										<div class="col-md-6 col-lg-6">
											<input type="radio" name="gioitinh" th:field="*{GioiTinh}"
												th:value="false"> Nam <input class="ms-5"
												type="radio" name="gioitinh" th:field="*{GioiTinh}"
												th:value="true"> Nữ
										</div>
									</div>
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<button class="btn btn-dark px-5" type="submit"
												style="border-radius: 15px;" id="btn-benh-nhan">Tạo hồ sơ</button>
										</div>
									</div>
								</div>
							</form>

							<div class="table-responsive"
								th:if="${danhSachBenhNhan != null and page != 'benhAn'}">
								<table class="account-table table">
									<thead>
										<tr>
											<th scope="col" th:each="ct, index : ${columnTitleFrst}" th:text="${ct}"></th>
											<th scope="col" class="d-flex justify-content-center">Thao tác</th>
										</tr>
									</thead>

									<tbody>
										<tr th:each="benhNhan : ${danhSachBenhNhan}" th:id="${benhNhan.maBn}">
											<td scope="row" th:text="${benhNhan.HoTen}" th:id="'ten-benh-nhan-' + ${benhNhan.maBn}"></td>
											<td scope="row" th:text="${benhNhan.getGioiTinhAsView}" th:id="'gioi-tinh-benh-nhan-' + ${benhNhan.maBn}"></td>
											<td scope="row" th:text="${benhNhan.Sdt}" th:id="'sdt-benh-nhan-' + ${benhNhan.maBn}"></td>
											<td scope="row" class="d-flex flex-row justify-content-center"> 
												<form th:action="@{/xoa-benh-nhan}" method="post" class="pe-2">
												      <input type="hidden" name="maBn" th:value="${benhNhan.maBn}" />
												      <button type="submit" class="btn btn-danger" style="border-radius: 15px; font-size: 12px;">Xóa</button>
												</form>

												<button class="btn btn-dark" name="editBenhNhan" style="border-radius: 15px; font-size: 12px; background-color: rgb(30, 53, 150);" 
												th:attr="onclick=|updateBenhNhan('${benhNhan.maBn}')|">Sửa</button>
											</td>
										</tr>
									</tbody>

								</table>
							</div>
						</div>

						<div class="custom-block bg-white"
							th:if="${page != 'benhNhan' and ketQuaTimKiem != null or page =='benhAn'}">
							<h5 class="mb-1">Danh sách bệnh án</h5>
							<small class="text-muted m-1" th:if="${benhAnResult != null}"
								th:text="${benhAnResult}">Không có bệnh án</small>
							<div class="row mt-2 mb-4">
								<div class="col-lg-4">
									<button class="btn btn-dark px-5" type="button"
										onclick="displayAddForm('benh-an')" style="border-radius: 15px;"
										th:if="${ketQuaTimKiem != null and ketQuaTimKiem != '0' and danhSachBenhAn == null}">Thêm bệnh án</button>
								</div>
							</div>

							<form class="custom-form mb-4" th:action="@{/xu-ly-benh-an}" method="post" th:object="${benhAn}">
								<div class="benh-an" id="benh-an-form">
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<input class="form-control" type="number" placeholder="Số điện thoại" th:field="*{sdt}" id="input-benh-an-sdt">
											<input class="form-control" type="number" th:field="*{sdtCu}" id="input-benh-an-sdt-cu"
																		style="position: absolute; z-index: -1; visibility: hidden;">
											<input class="form-control" type="text"
 												th:field="*{maBa}"  id="input-benh-an-id" 
 												style="position: absolute; z-index: -1; visibility: hidden;">
										</div>
									</div>
									<div class="row" id="benh-an-input-date-row" style="display: none;">
										<div class="col-md-6 col-lg-6">
											<input class="form-control" type="date" id="input-benh-an-ngay" onchange="pickDate()" 
																		style="z-index: -1; position: absolute;">
											<input class="form-control" type="text" placeholder="bấm để chọn ngày" th:field="*{NgayKham}" onclick="showDatePicker()" id="input-benh-an-ngay-value" 
																		style="z-index: 0; position: relative;"> 
										</div>
									</div>
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<input class="form-control" type="text"
												placeholder="Chuẩn đoán" th:field="*{ChuanDoan}" id="input-benh-an-chuan-doan">
										</div>
									</div>
									<div class="row">
										<div class="col-md-6 col-lg-6">
											<button class="btn btn-dark px-5" type="submit"
												style="border-radius: 15px;" id="btn-benh-an">Thêm bệnh án</button>
										</div>
									</div>
								</div>
							</form>

							<div class="table-responsive"
								th:if="${danhSachBenhAn != null}">
								<table class="account-table table">
									<thead>
										<tr>
											<th scope="col" th:each="ct : ${columnTitleScnd}" th:text="${ct}"></th>
											<th scope="col" class="d-flex justify-content-center">Thao tác</th>
												
										</tr>
									</thead>

									<tbody>
										<tr class="ps-3" th:each="ba : ${danhSachBenhAn}">
											<td scope="row" th:text="${ba.BenhNhan}" th:id="'benh-an-ten-' + ${ba.id}"></td>
											<td scope="row" th:text="${ba.BacSi}" th:id="'benh-an-bac-si-' + ${ba.id}"></td>
											<td scope="row" th:text="${ba.getNgayKhamAsView}" th:id="'benh-an-ngay-' + ${ba.id}"></td>
											<td scope="row" th:text="${ba.ChuanDoan}" th:id="'benh-an-chuan-doan-' + ${ba.id}"></td>
											<td scope="row" class="d-flex flex-row justify-content-center"> 
												<form th:action="@{/xoa-benh-an}" method="post" class="pe-2">
												      <input type="hidden" name="MaBa" th:value="${ba.id}" />
												      <button type="submit" class="btn btn-danger" style="border-radius: 15px; font-size: 12px;">Xóa</button>
												</form>
												
												 <button th:id="${ba.sdt} + '/' + ${ba.id}" type="submit" class="btn btn-dark" style="border-radius: 15px; font-size: 12px; background-color: rgb(30, 53, 150);" 
												      					onclick="updateBenhAn(this.id)">Sửa</button>
											</td>
										</tr>
									</tbody>
								</table>	
								<div class="d-flex justify-content-end" th:if="${page == 'tongQuat'}">
									<button class="btn btn-dark px-5 " type="button"
													onclick="insertBenhAn()" style="border-radius: 15px;"
													th:if="${danhSachBenhAn != null}">Thêm bệnh án</button>
								</div>
							</div>
						</div>

					</div>

					<div class="col-lg-4 col-12">
<!-- 						<div -->
<!-- 							class="custom-block custom-block-profile-front custom-block-profile bg-white"> -->
<!-- 							<div class="custom-block-profile-image-wrap mb-4"> -->
<!-- 								<img -->
<!-- 									src="/nhan-vien-resource/images/medium-shot-happy-man-smiling.jpg" -->
<!-- 									class="custom-block-profile-image img-fluid" alt=""> <a -->
<!-- 									href="setting.html" -->
<!-- 									class="bi-pencil-square custom-block-edit-icon"></a> -->
<!-- 							</div> -->
<!-- 							<div class="d-flex flex-column justify-content-center" th:if="${page == 'benhNhan'}"> -->
<!-- 								<p class="d-flex flex-wrap mb-2"> -->
<!-- 									<strong>Họ và tên:</strong> <span id="mini-panel-ten">Trần Văn Thử Nghiệm</span> -->
<!-- 								</p> -->
	
<!-- 								<p class="d-flex flex-wrap mb-2"> -->
<!-- 									<strong>Giới tính:</strong> <span id="mini-panel-gioi-tinh"> Nam </span> -->
<!-- 								</p> -->
	
<!-- 								<p class="d-flex flex-wrap mb-0"> -->
<!-- 									<strong>Số điện thoại:</strong> <span id="mini-panel-sdt"> 0888888888 </span> -->
<!-- 								</p> -->
<!-- 							</div> -->
<!-- 							<div class="d-flex flex-column justify-content-center" th:if="${page == 'benhAn'}"> -->
<!-- 								<p class="d-flex flex-wrap mb-2"> -->
<!-- 									<strong>Họ và tên:</strong> <span id="mini-panel-ten-bn">Trần Văn Thử Nghiệm</span> -->
<!-- 								</p> -->
<!-- 								<p class="d-flex flex-wrap mb-2"> -->
<!-- 									<strong>Bác sĩ:</strong> <span id="mini-panel-bac-si"> Nam </span> -->
<!-- 								</p> -->
	
<!-- 								<p class="d-flex flex-wrap mb-2"> -->
<!-- 									<strong>Ngày khám:</strong> <span id="mini-panel-ngay"> 00/00/0000 </span> -->
<!-- 								</p> -->
<!-- 							</div> -->
<!-- 						</div> -->
						
						<div class="custom-block custom-block-bottom d-flex flex-wrap" th:if="${page == 'benhNhan' or page == 'benhAn'}">
                                <div class="custom-block-bottom-item d-flex flex-column justify-content-center">
                                    <button class="d-flex flex-column justify-content-center align-items-center" type="button" onclick="insertBenhNhan()" style="border: 0; background: none;" th:if="${page == 'benhNhan'}">
                                        <i class="custom-block-icon fa-solid fa-plus"></i>

                                        <p>Thêm bệnh nhân</p>
                                    </button>
                                    <button class="d-flex flex-column justify-content-center align-items-center" type="button" onclick="insertBenhAn()" style="border: 0; background: none;" th:if="${page == 'benhAn'}">
                                        <i class="custom-block-icon fa-solid fa-plus"></i>

                                        <p>Thêm bệnh án</p>
                                    </button>
                                </div>
                        </div>

					</div>
				</div>

			</main>

		</div>
	</div>

	<!-- JAVASCRIPT FILES -->
	<script src="/nhan-vien-resource/js/bootstrap.bundle.min.js"></script>
	<script src="/nhan-vien-resource/js/custom.js"></script>
	<script src="/js/nhan-vien.js"></script>

</body>
</html>